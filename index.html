<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise Simulator | Rohit Singh</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --p: #4f46e5; --s: #10b981; --bg: #f3f4f6; --dark: #1e293b; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: #374151; }
        
        /* Sections hidden by default */
        #dash-screen, #cert-screen { display: none; }

        /* Slide Transition Style */
        .page { min-height: 100vh; display: flex; flex-direction: column; }

        /* 1. LOGIN SCREEN */
        .login-box { display: flex; align-items: center; justify-content: center; height: 100vh; background: linear-gradient(135deg, #4f46e5, #7c3aed); }
        .card-login { background: white; padding: 40px; border-radius: 24px; width: 350px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        .p-upload { width: 90px; height: 90px; border-radius: 50%; border: 3px dashed var(--p); margin: 0 auto 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .p-upload img { width: 100%; height: 100%; object-fit: cover; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; }

        /* 2. DASHBOARD */
        nav { background: white; padding: 15px 6%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .main { max-width: 1000px; margin: 30px auto; padding: 0 20px; display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .dash-card { background: white; padding: 20px; border-radius: 16px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .task-item { display: flex; justify-content: space-between; padding: 15px; background: #f9fafb; border-radius: 12px; margin-bottom: 10px; border-left: 5px solid #ddd; align-items: center; }
        .task-done { border-left-color: var(--s); background: #ecfdf5; }

        /* 3. CERTIFICATE */
        .cert-wrap { padding: 50px 0; background: #333; text-align: center; }
        .certificate { width: 800px; height: 560px; background: white; margin: 0 auto; border: 15px solid var(--dark); padding: 40px; position: relative; box-sizing: border-box; }
        .certificate::after { content: ''; position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px; border: 2px solid #d4af37; pointer-events: none; }
        #sig-canvas { border-bottom: 2px solid #000; cursor: crosshair; background: #f9f9f9; }

        .btn { padding: 12px 24px; background: var(--p); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; transition: 0.3s; width: 100%; }
        .btn:hover { transform: translateY(-2px); opacity: 0.9; }
    </style>
</head>
<body>

    <div id="login-screen" class="login-box">
        <div class="card-login">
            <h2 style="margin-top:0;">Employee Login</h2>
            <div class="p-upload" onclick="document.getElementById('imgIn').click()">
                <i class="fa fa-user-plus" id="p-icon" style="color:#aaa;"></i>
                <img id="p-img" style="display:none">
            </div>
            <input type="file" id="imgIn" hidden accept="image/*">
            <input type="text" id="nameIn" placeholder="Full Name" value="Rohit Singh">
            <input type="password" id="passIn" placeholder="Password (12345)" value="12345">
            <button class="btn" onclick="goToDash()">Login & Start</button>
        </div>
    </div>

    <div id="dash-screen">
        <nav>
            <b style="font-size: 20px; color:var(--p);">ROHIT<span style="color:var(--dark)">.DASH</span></b>
            <div style="display:flex; align-items:center; gap:15px;">
                <span id="nav-name" style="font-weight:600;"></span>
                <img id="nav-photo" style="width:40px; height:40px; border-radius:50%; border:2px solid var(--p);">
            </div>
        </nav>
        <div class="main">
            <div class="dash-card">
                <h3>Current Assignments</h3>
                <div class="task-item" id="task1">
                    <span>1. Setup Enterprise Environment</span>
                    <button class="btn" style="width:auto; padding:5px 15px;" onclick="complete(1)">Finish</button>
                </div>
                <div class="task-item" id="task2">
                    <span>2. Security Protocol Logic</span>
                    <button class="btn" style="width:auto; padding:5px 15px;" onclick="complete(2)">Finish</button>
                </div>
                <div id="claim-area" style="display:none; text-align:center; margin-top:30px;">
                    <p style="color:var(--s); font-weight:bold;">All Tasks Done! ðŸš€</p>
                    <button class="btn" style="background:var(--dark); width:280px;" onclick="goToCert()">View Final Certificate</button>
                </div>
            </div>
            <div class="dash-card" style="height:fit-content;">
                <h4>Mentor Details</h4>
                <div style="display:flex; align-items:center; gap:10px;">
                    <img src="https://ui-avatars.com/api/?name=AI+Mentor&background=random" style="width:50px; border-radius:10px;">
                    <div><b>AI Mentor</b><br><small>Senior Dev</small></div>
                </div>
            </div>
        </div>
    </div>

    <div id="cert-screen" class="cert-wrap">
        <div class="certificate" id="cert-pdf">
            <h4 style="color:#d4af37; letter-spacing:3px;">OFFICIAL RECOGNITION</h4>
            <h1 style="font-size:50px; margin:10px 0; font-family: serif;">Certificate</h1>
            <p>OF INTERNSHIP COMPLETION</p>
            <br>
            <p>This is to certify that</p>
            <h2 id="final-name" style="font-size:40px; color:var(--p); font-family: 'Brush Script MT', cursive;"></h2>
            <p>has successfully completed all advanced simulator modules.</p>
            <p>Date: <b id="today"></b></p>
            <div style="margin-top:50px; display:flex; justify-content:space-around; align-items:flex-end;">
                <div style="text-align:center; border-top:2px solid #333; width:150px; padding-top:5px;">Director</div>
                <div style="text-align:center;">
                    <canvas id="sig-canvas" width="180" height="60"></canvas><br>
                    <div style="border-top:2px solid #333; width:180px; padding-top:5px;">Your Signature</div>
                </div>
            </div>
        </div>
        <br>
        <button class="btn" style="background:var(--s); width:250px;" onclick="download()">Download PDF</button>
        <button class="btn" style="background:#666; width:120px; margin-left:10px;" onclick="location.reload()">Reset</button>
    </div>

    <script>
        // Photo Preview
        document.getElementById('imgIn').onchange = (e) => {
            const r = new FileReader();
            r.onload = (v) => {
                document.getElementById('p-img').src = v.target.result;
                document.getElementById('p-img').style.display = 'block';
                document.getElementById('nav-photo').src = v.target.result;
                document.getElementById('p-icon').style.display = 'none';
            };
            r.readAsDataURL(e.target.files[0]);
        };

        // Slide 1 -> 2
        function goToDash() {
            const name = document.getElementById('nameIn').value;
            if(!name) return alert("Enter Name");
            document.getElementById('nav-name').innerText = name;
            document.getElementById('final-name').innerText = name;
            document.getElementById('today').innerText = new Date().toLocaleDateString();
            
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('dash-screen').style.display = 'block';
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        }

        // Dashboard Logic
        let done = 0;
        function complete(id) {
            const t = document.getElementById('task'+id);
            t.classList.add('task-done');
            t.querySelector('button').innerText = "Fixed âœ…";
            t.querySelector('button').disabled = true;
            done++;
            if(done >= 2) document.getElementById('claim-area').style.display = 'block';
            confetti({ particleCount: 50 });
        }

        // Slide 2 -> 3
        function goToCert() {
            document.getElementById('dash-screen').style.display = 'none';
            document.getElementById('cert-screen').style.display = 'block';
            confetti({ particleCount: 200, spread: 100 });
            
            // Signature Init
            const canvas = document.getElementById('sig-canvas');
            const ctx = canvas.getContext('2d');
            let drawing = false;
            canvas.onmousedown = () => drawing = true;
            canvas.onmouseup = () => { drawing = false; ctx.beginPath(); };
            canvas.onmousemove = (e) => {
                if(!drawing) return;
                const rect = canvas.getBoundingClientRect();
                ctx.lineWidth = 2; ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top); ctx.stroke();
            };
        }

        function download() {
            const element = document.getElementById('cert-pdf');
            html2pdf().from(element).save('Certificate_Rohit.pdf');
        }
    </script>
</body>
</html>



