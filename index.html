<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise Simulator Pro | Rohit Singh</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        :root { --primary: #4f46e5; --secondary: #7c3aed; --success: #10b981; --bg: #f3f4f6; --dark: #1e293b; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: #374151; }
        
        /* LOGIN PAGE */
        #login-page { display: flex; align-items: center; justify-content: center; height: 100vh; background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%); }
        .login-card { background: white; padding: 40px; border-radius: 24px; width: 360px; text-align: center; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        .p-box { width: 100px; height: 100px; border-radius: 50%; border: 3px dashed var(--primary); margin: 0 auto 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; overflow: hidden; background: #f9fafb; }
        .p-box img { width: 100%; height: 100%; object-fit: cover; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #d1d5db; border-radius: 10px; box-sizing: border-box; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }

        /* DASHBOARD LAYOUT */
        nav { background: white; padding: 12px 6%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: sticky; top:0; z-index: 100; }
        .main-content { max-width: 1100px; margin: 30px auto; padding: 0 20px; display: grid; grid-template-columns: 2fr 1fr; gap: 25px; }
        
        .card { background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px; grid-column: 1 / span 2; }
        .stat-item { background: white; padding: 20px; border-radius: 16px; text-align: center; border-bottom: 4px solid var(--primary); box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        
        .task-list { margin-top: 15px; }
        .task-item { display: flex; align-items: center; justify-content: space-between; padding: 15px; background: #f9fafb; border-radius: 12px; margin-bottom: 10px; border-left: 4px solid #d1d5db; }
        .task-item.done { border-left-color: var(--success); background: #ecfdf5; }

        /* CERTIFICATE */
        #cert-page { display:none; padding: 50px 0; background: #374151; min-height: 100vh; text-align: center; }
        .certificate { width: 840px; height: 590px; background: white; margin: 0 auto; border: 20px solid var(--dark); padding: 50px; position: relative; box-sizing: border-box; background-image: radial-gradient(circle at 2px 2px, #f1f1f1 1px, transparent 0); background-size: 24px 24px; }
        .certificate::after { content: ''; position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px; border: 2px solid #d4af37; pointer-events: none; }
        
        .btn { padding: 12px 24px; background: var(--primary); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; transition: 0.2s; width: 100%; }
        .btn:hover { opacity: 0.9; transform: translateY(-1px); }
        #sig-pad { border-bottom: 2px solid #000; background: #f9fafb; cursor: crosshair; }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-card">
            <h2 style="margin-top:0; color:var(--dark)">Employee Portal</h2>
            <div class="p-box" onclick="document.getElementById('imgIn').click()">
                <i class="fa fa-user-plus" id="userIcon" style="font-size: 24px; color: #9ca3af;"></i>
                <img id="userPrev" style="display:none">
            </div>
            <input type="file" id="imgIn" hidden accept="image/*">
            <input type="text" id="nameIn" placeholder="Full Name" value="Rohit Singh">
            <input type="password" id="passIn" placeholder="Employee Password" value="12345">
            <button class="btn" onclick="loginAction()">Login to Dashboard</button>
            <p style="font-size: 12px; color: #6b7280; margin-top: 15px;">Secure Login Enabled</p>
        </div>
    </div>

    <div id="dash-screen" style="display:none;">
        <nav>
            <b style="font-size: 22px; color:var(--primary);"><i class="fa fa-laptop-code"></i> ROHIT<span style="color:var(--secondary)">.LABS</span></b>
            <div style="display:flex; align-items:center; gap:15px;">
                <span id="navName" style="font-weight: 500;"></span>
                <img id="navPhoto" style="width:40px; height:40px; border-radius:50%; border: 2px solid var(--primary);">
            </div>
        </nav>

        <div class="main-content">
            <div class="stats-grid">
                <div class="stat-item"><h3>3</h3><p>Assigned Projects</p></div>
                <div class="stat-item"><h3 id="compVal">0</h3><p>Completed</p></div>
                <div class="stat-item"><h3>98%</h3><p>Efficiency</p></div>
            </div>

            <div class="card">
                <h3 style="margin-top:0"><i class="fa fa-tasks"></i> Project Milestones</h3>
                <div class="task-list">
                    <div class="task-item" id="t1">
                        <div><b>Module 01:</b> UI/UX Design System</div>
                        <button class="btn" style="width:auto; padding:6px 15px; font-size:12px;" onclick="finish(1)">Finish</button>
                    </div>
                    <div class="task-item" id="t2">
                        <div><b>Module 02:</b> Backend API Security</div>
                        <button class="btn" style="width:auto; padding:6px 15px; font-size:12px;" onclick="finish(2)">Finish</button>
                    </div>
                    <div class="task-item" id="t3">
                        <div><b>Module 03:</b> Cloud Deployment</div>
                        <button class="btn" style="width:auto; padding:6px 15px; font-size:12px;" onclick="finish(3)">Finish</button>
                    </div>
                </div>
                <div id="claim-box" style="display:none; margin-top:25px; text-align:center; border-top: 1px solid #eee; padding-top:20px;">
                    <p style="color:var(--success); font-weight:600;">All Tasks Completed! üèÜ</p>
                    <button class="btn" style="background:var(--dark); width:280px;" onclick="openCert()">Generate Final Certificate</button>
                </div>
            </div>

            <div class="card" style="height: fit-content;">
                <h3 style="margin-top:0">Mentor Info</h3>
                <div style="display:flex; align-items:center; gap:10px; margin-bottom:20px;">
                    <img src="https://ui-avatars.com/api/?name=Dr+Sameer&background=random" style="width:50px; border-radius:10px;">
                    <div><b>Dr. Sameer</b><br><small>Senior Architect</small></div>
                </div>
                <hr style="border:0; border-top:1px solid #eee">
                <p style="font-size:13px;"><b>Notice:</b> Please complete all 3 modules to unlock the PDF download option.</p>
            </div>
        </div>
    </div>

    <div id="cert-screen">
        <div class="certificate" id="cert-pdf">
            <img src="https://cdn-icons-png.flaticon.com/512/1040/1040230.png" style="width:70px; position:absolute; top:40px; right:50px; opacity:0.6;">
            <h4 style="color:#d4af37; letter-spacing:4px; margin-bottom:5px;">OFFICIAL STATEMENT</h4>
            <h1 style="font-size:52px; margin:10px 0; font-family: 'Times New Roman', serif;">Certificate</h1>
            <p style="font-size:18px; color:#666;">OF PROFESSIONAL INTERNSHIP</p>
            <br>
            <p style="font-size:20px;">This certificate is proudly presented to</p>
            <h2 id="finalName" style="font-size:48px; color:var(--primary); font-family: 'Brush Script MT', cursive; margin:10px 0;"></h2>
            <p style="padding: 0 50px;">For successful completion of the <b>Senior Virtual Internship</b> within the technical department, showcasing excellence in UI design and Cloud architecture.</p>
            <br>
            <p>Issued on: <b id="today"></b></p>
            
            <div style="margin-top:40px; display:flex; justify-content:space-around; align-items: flex-end;">
                <div style="text-align:center;">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/3/3a/Jon_Kirsch_Signature.png" style="width:120px; filter:contrast(0.5);"><br>
                    <div style="border-top:2px solid #333; width:150px; padding-top:5px; font-size:14px;">Director of Engineering</div>
                </div>
                <div style="text-align:center;">
                    <canvas id="sig-pad" width="180" height="60"></canvas><br>
                    <div style="border-top:2px solid #333; width:180px; padding-top:5px; font-size:14px;">Intern's Signature</div>
                </div>
            </div>
        </div>
        <br>
        <button class="btn" style="background:var(--success); width:250px;" onclick="savePDF()">Download Official PDF</button>
        <button class="btn" style="background:#6b7280; width:120px; margin-left:10px;" onclick="location.reload()">Exit</button>
    </div>

    <script>
        // Photo Preview
        document.getElementById('imgIn').onchange = (e) => {
            const r = new FileReader();
            r.onload = (v) => {
                document.getElementById('userPrev').src = v.target.result;
                document.getElementById('userPrev').style.display = 'block';
                document.getElementById('navPhoto').src = v.target.result;
                document.getElementById('userIcon').style.display = 'none';
            };
            r.readAsDataURL(e.target.files[0]);
        };

        // Login Action
        function loginAction() {
            const name = document.getElementById('nameIn').value;
            const pass = document.getElementById('passIn').value;
            if(!name || !pass) return alert("Enter credentials!");
            
            document.getElementById('navName').innerText = name;
            document.getElementById('finalName').innerText = name;
            document.getElementById('today').innerText = new Date().toLocaleDateString('en-GB', {day:'numeric', month:'long', year:'numeric'});
            
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('dash-screen').style.display = 'block';
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        }

        // Task Finishing
        let doneCount = 0;
        function finish(id) {
            const item = document.getElementById('t'+id);
            item.classList.add('done');
            item.querySelector('button').innerHTML = "Completed ‚úÖ";
            item.querySelector('button').disabled = true;
            doneCount++;
            document.getElementById('compVal').innerText = doneCount;
            confetti({ particleCount: 40, scalar: 0.7 });
            if(doneCount >= 3) document.getElementById('claim-box').style.display = 'block';
        }

        // Certificate & Signature
        function openCert() {
            document.getElementById('dash-screen').style.display = 'none';
            document.getElementById('cert-screen').style.display = 'block';
            confetti({ particleCount: 200, spread: 100 });
            
            const canvas = document.getElementById('sig-pad');
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            canvas.onmousedown = () => isDrawing = true;
            canvas.onmouseup = () => { isDrawing = false; ctx.beginPath(); };
            canvas.onmousemove = (e) => {
                if(!isDrawing) return;
                const rect = canvas.getBoundingClientRect();
                ctx.lineWidth = 2; ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top); ctx.stroke();
            };
        }

        // Save PDF
        function savePDF() {
            const el = document.getElementById('cert-pdf');
            const opt = { margin: 0, filename: 'Internship_Certificate.pdf', html2canvas: { scale: 2 }, jsPDF: { unit: 'in', format: 'letter', orientation: 'landscape' } };
            html2pdf().set(opt).from(el).save();
        }
    </script>
</body>
</html>


